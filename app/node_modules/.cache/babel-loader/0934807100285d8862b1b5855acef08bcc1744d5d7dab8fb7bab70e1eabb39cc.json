{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import MyList from\"./MyList\";import SearchBook from\"./SearchBook\";import ReadBook from\"./ReadBook\";// Importar ReadBook\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Home(_ref){let{userId,setIsLoggedIn,handleLogout}=_ref;const[userData,setUserData]=useState(null);const[view,setView]=useState(\"home\");const[currentBook,setCurrentBook]=useState(null);// Estado para el libro actual\nuseEffect(()=>{const fetchUserData=async()=>{const response=await fetch(`http://localhost:5000/user/${userId}`);const data=await response.json();setUserData(data);};if(userId){fetchUserData();}},[userId]);return/*#__PURE__*/_jsxs(\"div\",{children:[view===\"home\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",userData?userData.name:\"Guest\",\"!\"]}),userData?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Email: \",userData.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Member since: \",userData.dateJoined]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading your data...\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView(\"list\"),children:\"See My List\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView(\"searchBook\"),children:\"Search a Book\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleLogout();setView(\"home\");},children:\"Log Out\"})]})]}),view===\"list\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Book List\"}),/*#__PURE__*/_jsx(MyList,{userId:userId,setView:setView,setCurrentBook:setCurrentBook}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView(\"home\"),children:\"Go Back\"})]}),view===\"searchBook\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Search a Book\"}),/*#__PURE__*/_jsx(SearchBook,{userId:userId}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setView(\"home\"),children:\"Go Back\"})]}),view===\"readBook\"&&currentBook&&/*#__PURE__*/_jsx(ReadBook,{userId:userId,bookName:currentBook.bookName,currentPage:currentBook.currentPage,setView:setView})]});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","MyList","SearchBook","ReadBook","jsxs","_jsxs","jsx","_jsx","Home","_ref","userId","setIsLoggedIn","handleLogout","userData","setUserData","view","setView","currentBook","setCurrentBook","fetchUserData","response","fetch","data","json","children","name","email","dateJoined","onClick","bookName","currentPage"],"sources":["C:/Users/chivi/Desktop/uni/personal/VerseVault-Pro/app/src/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport MyList from \"./MyList\";\r\nimport SearchBook from \"./SearchBook\";\r\nimport ReadBook from \"./ReadBook\"; // Importar ReadBook\r\n\r\nfunction Home({ userId, setIsLoggedIn, handleLogout }) {\r\n  const [userData, setUserData] = useState(null);\r\n  const [view, setView] = useState(\"home\");\r\n  const [currentBook, setCurrentBook] = useState(null); // Estado para el libro actual\r\n\r\n  useEffect(() => {\r\n    const fetchUserData = async () => {\r\n      const response = await fetch(`http://localhost:5000/user/${userId}`);\r\n      const data = await response.json();\r\n      setUserData(data);\r\n    };\r\n\r\n    if (userId) {\r\n      fetchUserData();\r\n    }\r\n  }, [userId]);\r\n\r\n  return (\r\n    <div>\r\n      {view === \"home\" && (\r\n        <div>\r\n          <h2>Welcome, {userData ? userData.name : \"Guest\"}!</h2>\r\n          {userData ? (\r\n            <div>\r\n              <p>Email: {userData.email}</p>\r\n              <p>Member since: {userData.dateJoined}</p>\r\n            </div>\r\n          ) : (\r\n            <p>Loading your data...</p>\r\n          )}\r\n          <div>\r\n            <button onClick={() => setView(\"list\")}>See My List</button>\r\n            <button onClick={() => setView(\"searchBook\")}>Search a Book</button>\r\n            <button onClick={() => { handleLogout(); setView(\"home\"); }}>Log Out</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {view === \"list\" && (\r\n        <div>\r\n          <h3>Your Book List</h3>\r\n          <MyList userId={userId} setView={setView} setCurrentBook={setCurrentBook} />\r\n          <button onClick={() => setView(\"home\")}>Go Back</button>\r\n        </div>\r\n      )}\r\n\r\n      {view === \"searchBook\" && (\r\n        <div>\r\n          <h3>Search a Book</h3>\r\n          <SearchBook userId={userId} />\r\n          <button onClick={() => setView(\"home\")}>Go Back</button>\r\n        </div>\r\n      )}\r\n\r\n      {view === \"readBook\" && currentBook && (\r\n        <ReadBook\r\n          userId={userId}\r\n          bookName={currentBook.bookName}\r\n          currentPage={currentBook.currentPage}\r\n          setView={setView}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}